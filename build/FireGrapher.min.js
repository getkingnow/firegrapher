var FireGrapher=function(){"use strict";return FireGrapher=function(){},FireGrapher.prototype.graph=function(e,r,i){console.log(e),console.log(r),console.log(i);var t=["grid","line","scatter"];if(-1===t.indexOf(i.type))throw new Error('Invalid chart type. Must be "grid", "line", or "scatter"');this.drawGraph(e);var a=i.path.split("/");console.log(a);var o="/";a.forEach(function(e,t){if("*"===e[0])console.log(t+": individual record");else if("$"===e[0]){console.log(t+": param");var a=e.slice(1);console.log(a),r.child(o).once("value",function(e){e.forEach(function(e){console.log(e.name()),e.ref().on("child_added",function(r){var t=r.val();this.addToD3({line:e.name(),xCoord:t[i.xCoord.value],yCoord:t[i.yCoord.value]})}.bind(this))}.bind(this))}.bind(this))}else console.log(t+": regular node"),o+=e+"/"}.bind(this))},FireGrapher.prototype.addToD3=function(e){"undefined"==typeof this.graphData[e.line]&&(this.graphData[e.line]=[]),this.graphData[e.line][e.xCoord]=e.yCoord;var r=this.graphLines[e.line];"undefined"==typeof r?(r=d3.svg.line().x(function(e,r){return this.interpolateXCoord(r)}.bind(this)).y(function(e){return this.interpolateYCoord(e)}.bind(this)).interpolate("basis"),this.graph.append("svg:path").attr("d",r(this.graphData[e.line])).attr("id",e.line),this.graphLines[e.line]=r):this.graph.select("#"+e.line).data([this.graphData[e.line]]).attr("d",r)},FireGrapher.prototype.drawGraph=function(e){var r=800,i=120,t=0,a=30,o=40,n=150;this.graphData={},this.graphLines={},this.interpolateXCoord=d3.scale.linear().domain([t,a]).range([0,r]),this.interpolateYCoord=d3.scale.linear().domain([o,n]).range([0,i]),this.graph=d3.select(e).append("svg:svg").attr("width","100%").attr("height","100%")},FireGrapher}();"undefined"!=typeof module&&(module.exports=FireGrapher);